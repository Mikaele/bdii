<script type="text/javascript" charset="utf-8">
    $(function () {
        new Highcharts.Chart({
            chart: { renderTo: 'orders_chart' ,type: "bar"},
            title: {
                text: 'Historico de Faturamento por Serviços'
            },
            subtitle: {
                text: ''
            },
            xAxis: {
                categories: <%= raw @relatorio.map(&:nome) %>,
                title: {
                    text: 'Serviços'
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Faturamento (R$)',
                    align: 'high'
                },
                labels: {
                    overflow: 'justify'
                }
            },
            tooltip: {
                valueSuffix: 'R$'
            },
            plotOptions: {
                bar: {
                    dataLabels: {
                        enabled: true
                    }
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -40,
                y: 100,
                floating: true,
                borderWidth: 1,
                backgroundColor: '#FFFFFF',
                shadow: true
            },
            credits: {
                enabled: false
            },
            series: [{
                name: 'Total',
                data: <%= raw @relatorio.map(&:valor)%>
            }, {
                name: 'Mês atual',
                data: <%= raw @relatorio1.map(&:valor)%>
            }, {
                name: 'Dia',
                data: <%= raw @relatorio2.map(&:valor)%>
            }]
        });
    });
</script>

<div id="orders_chart" style="width:auto; height:auto;"></div>